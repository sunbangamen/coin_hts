# 환경 설정 예제
# 이 파일을 .env로 복사하여 사용하세요

# ═══════════════════════════════════════════════════════════════════════════
# Redis 설정
# ═══════════════════════════════════════════════════════════════════════════
REDIS_HOST=localhost
REDIS_PORT=6379

# ═══════════════════════════════════════════════════════════════════════════
# 데이터 저장 경로
# ═══════════════════════════════════════════════════════════════════════════
DATA_ROOT=/home/limeking/projects/worktree/coin-19/data

# ═══════════════════════════════════════════════════════════════════════════
# 스케줄러 설정 (자동 데이터 수집)
# ═══════════════════════════════════════════════════════════════════════════

# Step 1: 스케줄러 활성화 여부
#   true: 자동 스케줄링 활성화 (매일 지정된 시간에 데이터 수집)
#   false: 자동 스케줄링 비활성화 (수동 트리거만 가능: POST /api/scheduler/trigger)
#
# 주의: false로 설정해도 수동 트리거와 status 조회는 정상 작동합니다.
#      BackgroundScheduler 초기화를 하지 않으므로 메모리/CPU 절감 가능
ENABLE_SCHEDULER=true

# Step 2: 데이터 수집 실행 시간 (UTC 기준)
#   범위: 0-23 (시간), 0-59 (분)
#   예시:
#     SCHEDULER_HOUR=9, SCHEDULER_MINUTE=0  → UTC 09:00 = KST 18:00 (오후 6시)
#     SCHEDULER_HOUR=0, SCHEDULER_MINUTE=0  → UTC 00:00 = KST 09:00 (아침 9시)
#
# 참고: BackgroundScheduler는 UTC 기반이므로 타임존 변환 필요
SCHEDULER_HOUR=9
SCHEDULER_MINUTE=0

# Step 3: 수집할 암호화폐 심볼 (콤마로 구분, 공백 없음)
#   예: KRW-BTC,KRW-ETH,KRW-XRP,KRW-DOGE,KRW-SOLANA
#   Upbit API에서 지원하는 심볼을 사용하세요
#
# 주의: 심볼 사이에 공백이 있으면 파싱 오류 발생
SCHEDULER_SYMBOLS=KRW-BTC,KRW-ETH,KRW-XRP

# Step 4: 수집할 타임프레임 (콤마로 구분, 공백 없음)
#   지원되는 타임프레임:
#     - 1M, 3M, 5M, 10M, 15M, 30M : 분 단위
#     - 1H, 4H                    : 시간 단위
#     - 1D                        : 일 단위
#     - 1W                        : 주 단위
#     - 1M                        : 월 단위
#
# 권장: 1H, 1D (분석 정확도와 API 호출 횟수 균형)
SCHEDULER_TIMEFRAMES=1H,1D

# ═══════════════════════════════════════════════════════════════════════════
# Docker 환경 설정
# ═══════════════════════════════════════════════════════════════════════════
DATABASE_URL=postgresql://coin_user:coin_password@postgres:5432/coin_db
TZ=Asia/Seoul
PYTHONUNBUFFERED=1

# ═══════════════════════════════════════════════════════════════════════════
# 개발 환경 설정
# ═══════════════════════════════════════════════════════════════════════════
BACKEND_URL=http://localhost:8000

# ═══════════════════════════════════════════════════════════════════════════
# 프론트엔드 UI 안내
# ═══════════════════════════════════════════════════════════════════════════
#
# 위의 모든 스케줄러 설정은 프론트엔드 UI에서 실시간으로 확인할 수 있습니다.
#
# 접속 경로: 데이터 관리 > "⏰ 자동 수집" 탭
#
# 주요 기능:
# - 스케줄러 상태 모니터링 (활성화, 실행 중, Redis 연결, 큐 크기)
# - 다음 실행 일정 및 현재 설정 조회
# - 최근 실행 정보 및 작업 히스토리 (최근 10개)
# - 수동 트리거로 즉시 데이터 수집 실행
# - UTC → 로컬 타임존 자동 변환 (마우스 호버로 UTC 시간 확인)
# - ENABLE_SCHEDULER 상태에 따른 UI 자동 조정
#
# 프론트엔드 시작 (개발 환경):
#   cd frontend
#   npm install
#   npm run dev
#   # 기본 주소: http://localhost:5173
#
# 프론트엔드 시작 (Docker):
#   docker-compose --profile frontend-dev up frontend
#   # 주소: http://localhost:5173
