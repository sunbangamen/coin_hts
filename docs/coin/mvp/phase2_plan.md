# Phase 2 계획 및 우선순위

**작성일**: 2025-11-03
**상태**: 📋 **계획 수립 단계**
**목표**: Phase 1 검증 결과를 바탕으로 Phase 2 작업 우선순위 확정 및 일정 계획

---

## 1. Phase 1 검증 결과 요약

### ✅ 완료 사항
- Task 1~5 모두 완료
- E2E 통합 테스트: 4가지 시나리오 100% 성공
- 연속 10회 실행: 100% 성공
- JSON 스키마: 9/9 필드 검증 완료
- 로그 구조: run_id 기반 태깅 구현 완료

### 📊 성능 메트릭
- 백테스트 실행 시간: 8.8ms (단일 심볼)
- 안정성: 표준편차 0.3ms (메모리 누수 없음)
- 성공률: 100% (14회 연속 실행)

---

## 2. Phase 2 우선순위 정의

### 🎯 우선순위 1: 신호 전략 최적화 (HIGH)

**목표**: `volume_zone_breakout` 전략에서 실제 신호 생성 확보

**배경**:
- Phase 1 테스트에서 `volume_zone_breakout`이 신호 0개 생성
- 테스트 데이터의 가격 변동성이 전략 파라미터와 맞지 않음
- 실제 시장 데이터 또는 파라미터 튜닝으로 해결 필요

**작업 내용**:
- [ ] `volume_zone_breakout` 전략 파라미터 검토 및 최적화
- [ ] 다양한 시나리오에서 신호 생성 테스트
- [ ] 신호 분포 및 성공률 분석
- [ ] 실제 시장 데이터에서 검증

**예상 시간**: 1~2일
**의존성**: 없음 (즉시 시작 가능)

**산출물**:
- 최적화된 전략 파라미터 설정
- 신호 생성 검증 테스트
- 전략별 성능 비교 리포트

---

### 🎯 우선순위 2: 메타데이터 필드 확장 (HIGH)

**목표**: JSON 응답에 메타데이터 필드 추가로 Phase 2 확장성 강화

**작업 내용**:
- [ ] `version` 필드 추가 (스키마 호환성 관리)
- [ ] `metadata` 객체 추가
  - `execution_date`: ISO 8601 형식
  - `environment`: production/staging
  - `execution_host`: Docker 컨테이너 정보
- [ ] `description` 필드 추가 (옵션)
- [ ] 마이그레이션 가이드 작성

**예상 시간**: 1일
**의존성**: 없음 (Phase 1 구현과 독립적)

**산출물**:
- 업데이트된 BacktestResponse 모델
- 마이그레이션 가이드
- 스키마 버전 관리 정책

---

### 🎯 우선순위 3: 차트 구현 (Issue #5 Step 6) (MEDIUM)

**목표**: 누적 수익률 차트 및 신호 분포 시각화 추가

**배경**:
- Issue #5에서 Step 6은 선택사항으로 Phase 2 검토 예정
- Phase 1 완료 후 필요성 재평가 시점

**작업 내용**:
- [ ] Recharts 라이브러리 설치 및 통합 평가
- [ ] 누적 수익률 곡선 컴포넌트 구현
- [ ] 시간별 거래 수 막대 차트 구현 (선택)
- [ ] 반응형 차트 디자인
- [ ] 성능 테스트 (100+ 신호)

**예상 시간**: 3~5일
**의존성**:
- Phase 1 완료
- 신호 데이터 검증 (우선순위 1)

**산출물**:
- 차트 컴포넌트
- 차트 통합 테스트
- 성능 최적화 보고서

---

### 🎯 우선순위 4: 대규모 데이터 성능 테스트 (MEDIUM)

**목표**: 100+ 신호 처리 시 성능 검증 및 최적화

**작업 내용**:
- [ ] 대규모 테스트 데이터 생성 (100+, 1000+ 신호)
- [ ] 백엔드 성능 메트릭 수집
  - 실행 시간
  - 메모리 사용량
  - 파일 크기
- [ ] 프론트엔드 성능 테스트
  - 렌더링 시간
  - 정렬 기능 성능
  - 스크롤 부드러움
- [ ] 병목 지점 분석 및 최적화

**예상 시간**: 2~3일
**의존성**: 없음 (평행 작업 가능)

**산출물**:
- 성능 테스트 리포트
- 최적화 권장사항
- 가상 스크롤링 구현 (필요시)

---

### 🎯 우선순위 5: 파일 기반 로깅 (LOW)

**목표**: 운영 환경을 위한 파일 기반 로깅 추가 (선택적)

**작업 내용**:
- [ ] 로그 파일 저장 메커니즘 구현
- [ ] 로그 로테이션 정책 수립
- [ ] 구조화된 JSON 로깅 추가 (선택)
- [ ] 로그 분석 도구 검토 (ELK 등)

**예상 시간**: 2일
**의존성**: 없음

**산출물**:
- 파일 기반 로깅 구현
- 로그 관리 정책
- 운영 가이드

---

### 🎯 우선순위 6: UI/UX 개선 (LOW)

**목표**: 사용자 경험 개선 및 고급 기능 추가

**작업 내용**:
- [ ] 고급 필터링 (전략별, 기간별, 수익률 범위)
- [ ] 신호 데이터 내보내기 (CSV, Excel)
- [ ] 결과 비교 기능 (여러 run 비교)
- [ ] 저장된 백테스트 목록 조회
- [ ] 접근성 개선

**예상 시간**: 3~5일
**의존성**: 우선순위 1~4 완료 후

**산출물**:
- UI 개선사항
- UX 테스트 결과
- 사용자 피드백 정리

---

## 3. 제안된 실행 순서

### 📅 Week 1 (시작 예정: 2025-11-10)
1. **우선순위 1**: 신호 전략 최적화 (1~2일)
2. **우선순위 2**: 메타데이터 필드 확장 (1일)

**산출물**: 최적화된 전략, 확장된 스키마

### 📅 Week 2 (2025-11-17)
1. **우선순위 3**: 차트 구현 시작 (3~5일)
2. **우선순위 4**: 병행 - 대규모 데이터 성능 테스트

**산출물**: 차트 컴포넌트, 성능 테스트 보고서

### 📅 Week 3+ (2025-11-24~)
1. **우선순위 5**: 파일 기반 로깅 (선택적)
2. **우선순위 6**: UI/UX 개선
3. **추가 기능**: 실제 시장 데이터 통합, API 확장 등

---

## 4. Phase 2 완료 기준

### ✅ 필수 조건
- [ ] 우선순위 1-2 완료 (신호 최적화, 메타데이터)
- [ ] E2E 테스트 통과 (우선순위 1-2 대상)
- [ ] 성능 메트릭 충족 (대규모 데이터 테스트 완료)

### 🎯 권장 조건
- [ ] 우선순위 3 완료 (차트 구현)
- [ ] 우선순위 4 완료 (성능 테스트)

### 📊 선택 조건
- [ ] 우선순위 5 구현 (파일 로깅)
- [ ] 우선순위 6 구현 (UI/UX 개선)

---

## 5. 예상 일정 및 리소스

### 일정
- **Phase 2 시작**: 2025-11-10 (예상)
- **Phase 2 완료**: 2025-11-24 ~ 2025-12-01 (예상)
- **총 소요 기간**: 2~3주

### 리소스
- **개발**: 1명 (현재)
- **코드 리뷰**: 팀 (병행)
- **테스트**: 자동화 (E2E, 성능)

### 위험 요소
- 차트 라이브러리 학습 곡선
- 대규모 데이터셋 성능 이슈 발견 시 추가 최적화 필요
- 전략 파라미터 튜닝 시간 미확정

---

## 6. 커밋 및 PR 전략

### 커밋 분리 (PR 관리 용이)
```
feat(phase2): Optimize volume_zone_breakout strategy parameters
feat(phase2): Add version and metadata fields to BacktestResponse
feat(phase2): Implement chart visualization with Recharts
test(phase2): Add large-scale performance test scenarios
feat(logging): Implement file-based logging system
feat(ui): Add advanced filtering and export features
```

### PR 생성 시
- Issue #6 PR 완료 후 작업 시작
- Phase 2 우선순위별로 PR 분리 (또는 마일스톤 기반 묶음)
- 각 PR에 상세한 테스트 결과 포함

---

## 7. 다음 액션

### 즉시 (오늘)
- [x] Phase 2 계획 문서 작성 완료
- [ ] 팀 피드백 수집
- [ ] 우선순위 확정

### 내일
- [ ] 우선순위 1 시작: 신호 전략 최적화
- [ ] 테스트 데이터 준비 (다양한 시나리오)

### Week 1 마지막
- [ ] 우선순위 1-2 완료
- [ ] 중간 리뷰 및 피드백

---

## 📝 TODO

### Issue #6 관련
- [x] E2E 통합 테스트 완료
- [x] Phase 1 완료 보고서 작성
- [ ] **Issue #6 PR 생성** (현재는 커밋만 올려둠)

### Phase 2 시작 전
- [x] Phase 2 계획 문서 작성
- [ ] 팀 합의 수집
- [ ] 우선순위 최종 확정

### Phase 2 진행
- [ ] 우선순위 1: 신호 최적화
- [ ] 우선순위 2: 메타데이터 확장
- [ ] 우선순위 3: 차트 구현
- [ ] ... (이어서)

---

**상태**: 📋 계획 수립 완료 → 팀 합의 대기 → Phase 2 착수 예정
